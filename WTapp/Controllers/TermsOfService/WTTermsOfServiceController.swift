//
//  WTTermsOfServiceController.swift
//  WTapp
//
//  Created by RSL on 17/03/22.
//

import UIKit

class WTTermsOfServiceController: UIViewController {

    @IBOutlet weak var termsOfUse: UITextView!
    @IBOutlet weak var backButton: UIButton!
    
    override var preferredStatusBarStyle: UIStatusBarStyle {
        return .lightContent
    }
    
    override func viewDidLoad() {
        super.viewDidLoad()

        setNeedsStatusBarAppearanceUpdate()
        let imageName: String = "Logo_WT"
        let imageFileExtension: String = "png"
        let imagePath: String = Bundle.main.path(forResource: imageName, ofType: imageFileExtension) ?? "Logo_WT.png"
        
        let imageHtmlTag = NSString.init(format: "<img src=\"file://%@\" %@ />", imagePath,"style='text-align:center;padding-bottom:15px;width: 200px; display: block;margin-bottom:15px; margin-left: auto;margin-right: auto;'")
        
        let termsOfService: String = "<!DOCTYPE html> <html> <head><style type=\"text/css\"> body{font-family: '-apple-system','HelveticaNeue'; font-size:22;} </style> <title>Page Title</title></head><body>\(imageHtmlTag)<p><br></br>General</p><p><b>1)</b> Please review these Terms of Use (the Terms) carefully before using <b>WinningTicket LLC</b> and its subsidiaries (WinningTicket.com) websites and services. By accessing, browsing or using these websites or services, you fully acknowledge that you have read, understood and agree to abide by these Terms and comply with all applicable laws and regulations. If you do not agree to these Terms, you are not authorized to use WinningTicket.com websites and services, including but not limited to the WinningTicket.com services, including but not limited to WinningTicket.com Affiliate Network, the WinningTicket.com Partner Portal, WinningTicket.com Web Services. These Terms control your use of the websites and services, any content (such as text, data, information, software, graphics or photographs) that WinningTicket.com may make available through the websites (collectively,  Materials ) and any services that WinningTicket.com may provide through the websites (collectively,  Services ). The websites, Materials and Services are referred to in these terms collectively as the  WinningTicket.com Websites.</p><p><b>2)</b> WinningTicket.com reserves the exclusive right to modify or update these Terms, make changes to the WinningTicket.com Websites, or discontinue any or all of its programs, products, materials or services, without providing further notice. Additional terms, notices and conditions may apply to specific information, products, materials, software or services offered through the WinningTicket.com Websites. Should a conflict arise, such additional terms, notices and conditions will prevail over these Terms.</p><p><b>Use of Software and WinningTicket.com Websites</b></p><p><b>1)</b> To the extent that WinningTicket.com provides for the download of proprietary WinningTicket.com software, third party software, or open source software from WinningTicket.com Websites ( Software ), such Software is protected by the applicable copyright, patent or other Intellectual Property Rights (as defined herein) of either WinningTicket.com or the third-party. Any use of the Software is subject to the terms of the applicable end-user or open source license agreement. </p><p><b>2)</b> All evaluation Software is provided  AS IS  for evaluation and internal use only. You may not use evaluation Software for commercial, development or production purposes. In addition, evaluation Software may be time-disabled and may cease to operate after a period of time.</p><p><b> 3)</b> You will not and will not permit any third party, as solely determined by WinningTicket.com, to: (a) use WinningTicket.com Software and Services in violation of others’ rights (including Intellectual Property Rights); (b) engage in or promote gambling, pornography, or illegal activities; (c) circumvent or violate the restrictions of WinningTicket.com Websites; (d) reverse engineer, decompile, or otherwise attempt to derive source code from the WinningTicket.com Websites, unless we make the source code publicly available; and/or (e) disable, interfere with, disrupt, or circumvent any aspect of the WinningTicket.com Websites. You must ensure that any of your users comply with the Terms, and you agree that if you become aware of any violation by one of your users, you will terminate that user’s access immediately. </p><p><b>Trademarks</b></p><p><b> 1)</b> WinningTicket.com reserves all rights to its trademarks, service marks and logos, which together with the trademarks, service marks and logos of its subsidiaries registered in the United States or in other countries, are collectively titled  WinningTicket.com Marks.  </p><p><b>2)</b> WinningTicket.com Marks are highly valued intellectual property, and therefore WinningTicket.com will take all steps to protect against dilution and usage of third-party marks that are confusingly similar to WinningTicket.com Marks or which are likely to cause confusion with WinningTicket.com Marks. WinningTicket.com does not permit any use of WinningTicket.com Marks in a manner that is likely to cause confusion by implying an association with WinningTicket.com. </p><p><b>3)</b> Permitted Use. WinningTicket.com acknowledges that use of WinningTicket.com Marks, excluding any logos, may be necessary to refer to WinningTicket.com products or services. Any other WinningTicket.com Marks usage will require a signed trademark license agreement and must comply with WinningTicket.com’s Trademark Guidelines. By using WinningTicket.com Marks, you acknowledge that WinningTicket.com is the exclusive owner of WinningTicket.com Marks and you will not challenge, interfere, or interrupt WinningTicket.com’s exclusive ownership of WinningTicket.com Marks. You may not register any WinningTicket.com Marks or any mark confusingly similar to the WinningTicket.com Marks. </p><p><b>4)</b> Attribution. When WinningTicket.com Marks are used, the following trademark attribution is required in text and on all packaging or promotional materials displaying any WinningTicket.com trademarks:  WinningTicket.com, (list all other WinningTicket.com Marks referenced in the document or materials) are trademarks and/or registered trademarks of WinningTicket.com LLC. in the United States and/or other countries.  The trademark attribution should be placed on packaging or promotional materials in close proximity to where the WinningTicket.com Marks are displayed and must be noticeable to the reader. </p><p><b>5)</b> Please note that other product and brand names on the WinningTicket.com Websites may be trademarks of their respective companies. </p><p><b>6)</b> Linking To WinningTicket.com Websites </p><p><b>7)</b> Linking to the WinningTicket.com Websites (including an internal or subsidiary page of any website comprising a part of the WinningTicket.com Websites) must be approved in writing by WinningTicket.com, except a limited, revocable right to create a hyperlink to the website is granted under condition that the website on which the hyperlink resides: </p><p><b>8)</b> Does not utilize content of a WinningTicket.com Website; </p><p><b>9)</b> Does not utilize a WinningTicket.com logo; </p><p><b>10)</b> Does not use framing of a WinningTicket.com Website; </p><p><b>11)</b> Does not misrepresent an affiliation or other relationship with WinningTicket.com; </p><p><b>12)</b> Does not misrepresent any possible endorsement by WinningTicket.com; </p><p><b>13)</b> Does not contain content that could be construed as illegal, distasteful, offensive or controversial; and </p><p><b>14)</b> Is promptly modified to delete the hyperlink upon request by WinningTicket.com. </p><p><b>Copyright</b></p><p><b> 1)</b> Except where otherwise specified, the contents of the WinningTicket.com Websites are copyright (c) 2013-present <b>WinningTicket LLC</b>., 1194 Pine Valley Drive Wellington, FL 33414, USA. All rights reserved. </p><p><b>2)</b> The contents of the WinningTicket.com Websites are subject to protection under U.S. and foreign copyright laws. You may not copy, modify, or distribute any portion of the WinningTicket.com Websites, except as necessary to view the WinningTicket.com Websites. </p><p><b>3)</b> Copyright Infringement Claims </p><p><b>4)</b> WinningTicket.com respects the intellectual property of others. If you believe that your copyrighted work has been copied in a way that constitutes copyright infringement and is accessible via the WinningTicket.com Websites, please notify WinningTicket.com LLC.'s copyright agent, as set forth in the Digital Millennium Copyright Act of 1998 (DMCA). For your complaint to be valid under the DMCA, you must provide the following information in writing: </p><p><b>5)</b> An electronic or physical signature of a person authorized to act on behalf of the copyright owner; </p><p><b>6)</b> identification of the copyrighted work that you claim has been infringed; </p><p><b>7)</b> identification of the material that is claimed to be infringing and where it is located on the WinningTicket.com Websites; </p><p><b>8)</b> information reasonably sufficient to permit WinningTicket.com to contact you, such as your address, telephone number, and email address; </p><p><b>9)</b> a statement that you have a good faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent, or law; and </p><p><b>10)</b> a statement, made under penalty of perjury, that the above information is accurate, and that you are the copyright owner or are authorized to act on behalf of the owner. </p><p><b>11)</b> You may send a notice of claim of copyright infringement to the WinningTicket.com Legal Department at: WinningTicket.com LLC., ATTN: Legal Department, 1194 Pine Valley Drive, Wellington FL 33414; E-mail - legal@WinningTicket.com. </p><p><b>Links to Third Party Sites</b></p><p>The WinningTicket.com Websites may contain links to third-party websites, which are provided solely for your convenience and information. Accessing these links will cause you to leave the WinningTicket.com Websites. WinningTicket.com does not endorse or make any representations about such third party websites, and WinningTicket.com is not responsible for the accuracy, reliability, and suitability of any information, data, opinions, advice or statements made on those websites. WinningTicket.com does not control those websites and holds no responsibility over the contents of any third-party websites, any links contained in third-party websites, or any modifications or updates made to third-party websites. Further, WinningTicket.com shall not be held liable for any losses or damages incurred by users of these third-party websites. Please note that access and usage of these linked third-party websites, including any materials, information, services and products described or provided therein, is made solely at your own risk and discretion. The personal information you choose to provide to unrelated third parties is not covered by the WinningTicket.com Privacy Policy posted at https://WinningTicket.com/privacy-policy. </p><p><b>Privacy</b></p><p><b> 1)</b> WinningTicket.com’s Privacy Policy posted at https://WinningTicket.com/privacy-policy applies to use of WinningTicket.com Websites, and is incorporated into these Terms of Use. </p><p><b>2)</b> Anti-Piracy and License Compliance </p><p><b>3)</b> WinningTicket.com safeguards its technology vigilantly and only authorizes others to use it by virtue of license agreements. Using or distributing Software without permission from WinningTicket.com constitutes software piracy. WinningTicket.com distributes and sells its Software through a channel network of distributors and resellers worldwide. WinningTicket.com does not distribute or sell its Software through unauthorized channels such as peer-to-peer networking, file-sharing sites, auctions, or through other illegal download sites offering key or serial number generators. If you are contemplating or have obtained Software through one of these avenues, you likely will find yourself with pirated software. Please contact WinningTicket.com at legal@WinningTicket.com for assistance with your own or another’s unauthorized use of Software. </p><p><b>Governing Law and Jurisdiction </b></p><p>These Terms, the relationship between you and WinningTicket.com, and all matters relating to your access to, or usage of, any WinningTicket.com Websites, are governed by United States federal law and the laws of the State of Florida. Thus, any lawsuit or legal proceeding relating to these Terms, the relationship between you and WinningTicket.com, or your access to, or usage of, WinningTicket.com and the WinningTicket.com Websites shall be brought in the state or federal courts located in the county of Palm Beach, CA. You hereby agree that venue is proper in, and agree to submit to the personal and exclusive jurisdiction of, these courts in any lawsuit or legal proceeding. The laws of Ireland apply to matters pertaining to WinningTicket.com Software International, provided that the foregoing shall exclude any conflict of law rules, and the U.N. Convention on Contracts for the International Sale of Goods shall not apply. </p><p><b>Electronic Communications </b></p><p><When you visit the WinningTicket.com Websites or send e-mails to WinningTicket.com, you are communicating with WinningTicket.com electronically. We may respond to you by e-mail or by posting notices on the WinningTicket.com Websites. You agree that all such notices, disclosures and other communications that WinningTicket.com provides to you electronically satisfy any legal requirement that such communications be in writing. You agree that we will be free to use any communication you provide for any purpose. You hereby grant to us a non-exclusive, perpetual, irrevocable, royalty-free, transferable, worldwide right and license, with the right to grant and authorize sublicenses, to use, reproduce, perform, display, disclose, distribute, modify, prepare derivative works of and otherwise use the communication without restriction in any manner now known or in the future conceived and to make, use, sell, offer to sell, import and export any product or service that incorporates or is based in whole or in part on the communication. </p><p><b>Terminating Use </b></p><p>If we have reason to believe that you or your users have breached these Terms of Use or our Privacy Policy, we or our designated agent may review your use of WinningTicket.com Websites, verify your compliance with these Terms, and at our discretion, terminate your or your user’s access immediately. </p><p><b>Disputes</b></p><p>All claims, disputes, or controversies arising out of or relating to these Terms or your use of WinningTicket.com Websites must be made within (a) the time period specified by applicable law; or (b) eighteen (18) months after the cause of action accrues if no such period is specified at law. </p><p><b>United States Government Rights </b></p><p>All WinningTicket.com products and publications are commercial in nature. The software, publications and software documentation available on the WinningTicket.com Websites are  Commercial Items,  as that term is defined in 48 C.F.R. §2.101, consisting of  Commercial Computer Software  and  Commercial Computer Software Documentation,  as such terms are defined in 48 C.F.R. §252.227-7014(a)(1) and 48 C.F.R. §252.227-7014(a)(5), and used in 48 C.F.R. §12.211, 48 C.F.R. §12.212 and 48 C.F.R. §227.7202, as applicable. Pursuant to 48 C.F.R. §12.211, 48 C.F.R. §12.212, 48 C.F.R.§252.227-7015, 48 C.F.R. §227.7202 through 227.7202-4, 48 C.F.R. §52.227-19 and other relevant sections of the Code of Federal Regulations, as applicable, WinningTicket.com’s publications, commercial computer software and commercial computer software documentation are distributed and licensed to United States Government end users with only those rights as granted to all other end users, according to the terms and conditions contained in the license agreements that accompany the products and software documentation and the terms and conditions herein. </p><p><b>Disclaimers and Warranties </b></p><p>Information on the WinningTicket.com Websites is not promised or guaranteed to be correct, current or complete, and the WinningTicket.com Websites may contain technical inaccuracies or typographical errors. WinningTicket.com assumes no responsibility (and expressly disclaims responsibility) for updating the WinningTicket.com Websites to maintain current information or to ensure the accuracy or completeness of any posted information. Accordingly, you should confirm the accuracy and completeness of all posted information before making any decision related to any products, services or other matters described in the WinningTicket.com Websites. WinningTicket.com provides no assurances that any reported problems will be resolved by WinningTicket.com, even if WinningTicket.com elects to provide information with the goal of addressing a problem. ALL INFORMATION, SOFTWARE, PRODUCTS, MATERIALS, AND SERVICES PROVIDED ON THE WINNINGTICKET.COM WEBSITES ARE PROVIDED  AS IS  AND  WITH ALL FAULTS  WITH NO WARRANTIES OR GUARANTEES OF ANY KIND. WINNINGTICKET.COM EXPRESSLY DISCLAIMS TO THE FULLEST EXTENT PERMITTED BY LAW ALL EXPRESS, IMPLIED, STATUTORY OR OTHER WARRANTIES, GUARANTEES AND REPRESENTATIONS, INCLUDING, WITHOUT LIMITATION, THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR USE OR PURPOSE, TITLE AND NONINFRINGEMENT OF PROPRIETARY AND INTELLECTUAL PROPERTY RIGHTS, AND WARRANTIES ARISING FROM A COURSE OF DEALING, USAGE OR TRADE PRACTICE. WITHOUT LIMITING THE GENERALITY OF THE FOREGOING, WINNINGTICKET.COM MAKES NO WARRANTY THAT THE WINNINGTICKET.COM WEBSITES WILL MEET YOUR REQUIREMENTS OR THAT THE WINNINGTICKET.COM WEBSITES WILL BE UNINTERRUPTED, TIMELY, SECURE, ERROR FREE OR THAT THE SERVICES WILL MEET (OR ARE DESIGNED TO MEET) YOUR BUSINESS REQUIREMENTS. </p><p><b>Indemnification </b></p><p><b>1)</b> You agree to indemnify, defend, release, and hold WinningTicket.com, its parents, subsidiaries, affiliates, officers, directors, agents, partners, employees and licensors harmless from any claims, liabilities, demands, losses, damages, costs, expenses and fees (including reasonable attorneys’ fees) that such parties may incur as a result of or arising from: (1) your (or anyone using your account, computer or Software) use of the WinningTicket.com Websites or violation or breach of these Terms; (2) your content; (3) any infringement or misappropriation of any Intellectual Property Rights (defined below) by you, your customers or your suppliers; (c) violation of laws, rules, regulations, etc. by you; or (4) your use of any third party content. We will (i) provide you with notice of such claim within a reasonable period of time after learning of the claim; and (ii) reasonably cooperate in response to your requests for assistance (subject to your reimbursement of our costs and expenses). WinningTicket.com reserves the right to assume the exclusive defense and control of any matter otherwise subject to indemnification by you and, in such case, you agree to cooperate with WinningTicket.com’s defense of such claim, and in no event may you agree to any settlement affecting WinningTicket.com without WinningTicket.com’s written consent. </p><p><b>2) </b>Intellectual Property Rights  means all worldwide intellectual property rights, including, without limitation, patents, utility models, rights to inventions, copyright and related rights, trademarks and service marks, trade names and domain names, rights in get-up, goodwill and the right to sue for passing off or unfair competition, rights in designs, rights in computer software, database rights, rights to preserve the confidentiality of information (including know-how and trade secrets) and any other intellectual property rights, including all applications for (and rights to apply for and be granted), renewals or extensions of, and rights to claim priority from, such rights and all similar or equivalent rights or forms of protection which subsist or will subsist, now or in the future, in any part of the world. </p><p><b>Limitation of Liability</b></p><p>IN NO EVENT WILL WINNINGTICKET.COM OR OUR LICENSORS BE LIABLE FOR: (A) ANY INDIRECT, SPECIAL, CONSEQUENTIAL, INCIDENTAL, PUNITIVE OR EXEMPLARY DAMAGES OR; (B) ANY DAMAGES WHATSOEVER IN EXCESS OF US$100.00, INCLUDING, WITHOUT LIMITATION, THOSE RESULTING FROM LOST PROFITS, REVENUES OR SAVINGS, LOSS OR DAMAGE TO DATA OR BUSINESS INTERRUPTION ARISING OUT OF THE USE OF OR INABILITY TO USE THE WINNINGTICKET.COM WEBSITES OR ANY MATERIALS, INFORMATION, PRODUCTS OR SERVICES ACCESSED ON OR THROUGH THE WINNINGTICKET.COM WEBSITES, WHETHER SUCH DAMAGES ARE BASED ON WARRANTY, CONTRACT, TORT, STATUTE OR ANY OTHER LEGAL THEORY AND EVEN IF WINNINGTICKET.COM HAS BEEN ADVISED (OR SHOULD HAVE KNOWN) OF THE POSSIBILITY OF SUCH DAMAGES. </p><p><b>Exclusions and Limitations </b></p><p>The exclusion of certain warranties or the limitation or exclusion of liability for certain damages may not be authorized in some jurisdictions. Accordingly, some of the above disclaimers and limitations of liability may not apply to you. To the extent that WinningTicket.com may not, as a matter of applicable law, disclaim any implied warranty or limit its liabilities, the scope and duration of such warranty and the extent of WinningTicket.com’s liability shall be the minimum permitted under such applicable law. </p><p><b>General Provisions </b></p><p><b>3)</b> Entire Agreement. These Terms together with the provisions of any applicable WinningTicket.com Websites (i) are the complete statement of the agreement of the parties with regard to the subject matter hereof, superseding all previous arrangements between the parties relating to its subject matter; and (ii) may be modified only by a writing signed by both parties. All terms of any purchase order or similar document provided by You, including any pre-printed terms thereon and any terms that are inconsistent or conflict with these Terms, shall be null and void and of no legal force or effect with respect to the use of the applicable WinningTicket.com Website. You confirm that You have not relied on any statement, promise or representation made or given by or on behalf of us which is not set out in these Terms. No party shall have any claim for innocent or negligent misrepresentation based upon any statement in these Terms.</p><p><b> Severability.</b></p><p> If any provision of these Terms becomes or is declared by a court of competent jurisdiction to be illegal, unenforceable, or void, the remaining provisions will remain in effect. </p><p><b>4)</b> Relationship to Other Agreements. These Terms apply in addition to WinningTicket.com’s product or Service-specific Terms, including any signed Master Ordering Agreement, Professional Services Agreement or other licensing agreement you may have signed with WinningTicket.com. </p><p><b>5)</b> Waiver. Failure to enforce a provision of these Terms will not constitute a waiver. </p><p><b>6)</b> Independent Contractor. The parties are independent contractors. Nothing in these Terms shall be construed to create a joint venture, partnership, or an agency relationship between the parties themselves or between the parties and any third person. Except as expressly provided herein, no party has the authority, without the other party’s prior written approval, to bind or commit any other party in any way. </p><p><b>7)</b> No Third-party Beneficiaries. These Terms are not intended to confer upon any person other than the parties hereto any rights or remedies hereunder. </p><p><b>8)</b> Force Majeure. In the event that either party is prevented from performing or is unable to perform any of its obligations under these Terms due to any Act of God, fire, casualty, flood, earthquake, war, strike, lockout, epidemic, destruction of production facilities, riot, insurrection, material unavailability, unavailability or interruption of telecommunications equipment or networks, or any other cause beyond the reasonable control of the party invoking this section, and if such party shall have used reasonable efforts to mitigate its effects, such party shall give prompt written notice to the other party, its performance shall be excused, and the time for the performance shall be extended for the period of delay or inability to perform due to such occurrences. </p><p><b>9)</b> Legal Contact Information. Should you have any inquiries about these Terms, the licensing or usage of WinningTicket.com Marks, or WinningTicket.com copyrighted materials, you may contact the WinningTicket.com Legal Department at legal@WinningTicket.com. </p><p><b>10)</b> Construction. As used in this Agreement: (a) the terms  include  and  including  are meant to be inclusive and shall be deemed to mean  include without limitation  or  including without limitation ; (b) the word  or  is disjunctive, but not necessarily exclusive; (c) words used herein in the singular, where the context so permits, shall be deemed to include the plural and vice versa; (d) person includes a natural person, corporate or unincorporated body; (e) a reference to us or You includes personal representatives, successors and/or permitted assigns; (f) a reference to a statute or statutory provision is a reference to such statute or statutory provision as amended or re-enacted and includes any subordinate legislation; (g) a reference to writing or written includes faxes and e-mails; (h) references to  dollars  or  $  shall be to United States dollars unless otherwise specified herein; and (i) unless otherwise specified, all references to days, months or years shall be deemed to be preceded by the word  calendar .  The headings of these Terms are intended solely for convenience of reference and shall be given no effect in the interpretation or construction of these Terms.</p></body></html>"
        
        let htmlData = NSString(string: termsOfService).data(using: String.Encoding.unicode.rawValue)
        let options = [NSAttributedString.DocumentReadingOptionKey.documentType:
                NSAttributedString.DocumentType.html]
        guard let attributedString = try? NSMutableAttributedString(data: htmlData ?? Data(), options: options, documentAttributes: nil) else { return }
        let convertedFont = newAttrSize(blockQuote: attributedString)
        termsOfUse.attributedText = convertedFont
        backButton.addTarget(self, action: #selector(backTapped), for: .touchUpInside)
    }

    func newAttrSize(blockQuote: NSAttributedString) -> NSAttributedString
    {
        let yourAttrStr = NSMutableAttributedString(attributedString: blockQuote)
        yourAttrStr.enumerateAttribute(.font, in: NSMakeRange(0, yourAttrStr.length), options: .init(rawValue: 0)) {
            (value, range, stop) in
            if let font = value as? UIFont {
                let resizedFont = font.withSize(font.pointSize + 9)
                yourAttrStr.addAttribute(.font, value: resizedFont, range: range)
            }
        }
        return yourAttrStr
    }
    
    @objc func backTapped() {
        self.dismiss(animated: true, completion: nil)
    }
}
